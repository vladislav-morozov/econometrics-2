---
title: "Linear Models for Panel Data"
subtitle: "Beyond Binary Treatments: Fixed Effects and Mean Group Estimation"
author: Vladislav Morozov  
format:
  revealjs:
    width: 1150
    slide-number: true
    sc-sb-title: true
    incremental: true   
    logo: ../../themes/favicon.ico
    footer: "Panel Data: Linear Panel Data Models"
    footer-logo-link: "https://vladislav-morozov.github.io/econometrics-2/"
    theme: ../../themes/slides_theme.scss
    toc: TRUE
    toc-depth: 2
    toc-title: Contents
    transition: convex
    transition-speed: fast
slide-level: 4
title-slide-attributes:
    data-background-color: "#045D5D"
    data-footer: " "
filters:
  - reveal-header  
include-in-header: ../../themes/mathjax.html 
highlight-style: tango
---

## Introduction {background="#00100F"}
  
### Lecture Info {background="#43464B" visibility="uncounted"}


#### Learning Outcomes

This lecture is about handling more general treatments in panel data with linear models

<br>

By the end, you should be able to

- State 

#### References
 

::: {.nonincremental}

Textbooks: 

- Chapter 16 in @Huntington-Klein2025EffectIntroductionResearch 
- Chapter 13, 14-1, 14-4, 14-5 in @Wooldridge2020IntroductoryEconometricsModern
- Chapter 17 in @Hansen2022Econometrics (except dynamic panels and random effects)

:::  

 

### Empirical Motivation {background="#43464B" visibility="uncounted"}


#### Empirical Question {.scrollable}

<div class="rounded-box">

 
 
</div>
 

## Fixed Effect Estimation {background="#00100F"}

 
### Motivation and Questions {background="#43464B" visibility="uncounted"}


#### Reminder: TWFE

Recall: for difference-in-differences showed that
$$ \small
\widehat{ATT}^{DiD} = \hat{\delta}
$$
where $\hat{\delta}$ was the OLS estimator in regression
$$\small
Y_{i2}- Y_{i1} = \gamma + \delta D_{it} + U_{i2}
$$ {#eq-panel-twfe-did-diff}
where $\delta$ --- the ATT;  $\gamma$ --- average change in outcomes (trend)

#### Reminder: More General Equation

@eq-panel-twfe-did-diff obtained by differencing the *two-way fixed effect* equation:
$$
Y_{it} = \alpha_i + \gamma_t + \delta D_{it} + U_{it},
$$ {#eq-panel-twfe-did-undiff}
where 
$$
\gamma_1 = 0, \quad \gamma_2 = \gamma
$$
and $\alpha_i = Y_{i1}^0$ --- baseline differences between units

#### Reminder: Estimation

- We know how to apply OLS based on @eq-panel-twfe-did-diff: just regress $(Y_{i1}, Y_{i2})$ on $(1, D_{it})$ with OLS
- Last time said that can also apply OLS based on @eq-panel-twfe-did-undiff directly (e.g. `PanelOLS` from `linearmodels`)
  - Treated $\alpha_i$ as <span class="highlight"> parameters </span> 
  - Got exactly the same results from two approaches


#### Lecture Questions


1. How to apply OLS on @eq-panel-twfe-did-undiff? 
  - What are the regressors? How to "treat $\alpha_i$ as parameters"?
  - How does it work in practice?
  - Is the estimator inspired by @eq-panel-twfe-did-undiff always equal to the one based on @eq-panel-twfe-did-diff?
2. Can we apply the same approach with general (not just 0/1) treatment? What are the causal properties?
  
### Fixed Effect (Within) Estimators {background="#43464B" visibility="uncounted"}
 
####

First goal: understand the estimation procedure done by `linearmodels`

--- generically called fixed effect estimators

#### Slide


::: footer

Can find the matrix formula in section 3.2 of @Baltagi2021EconometricAnalysisPanel

:::

#### 

Other specifications

- Unit-level
- No random intercepts — pooled OLS
- More complicated combinations

#### Matrix Forms

## Causal Properties with General Treatment {background="#00100F"}
 
 


#### Terminology: FE vs. RE vs. CRE

::: {.callout-important appearance="minimal"}

This terminology is confusing. Best to always say what you mean (e.g. "no restriction on the dependence between $\bbeta_i$ and $\bX_{it}$" or "random intercept")

:::

#### 

More general model: 

####

Start a bit different — with an estimator and understanding what it does

For historic reasons --- estimators came first, people started actually thinking about the meaning more recently

#### Factor Models

Can generalize 

@Pesaran2015TimeSeriesPanel chapter 29

## Empirical Application {background="#00100F"}
 
 
### Context and Setting {background="#43464B" visibility="uncounted"}

#### Context  
 

## Recap and Conclusions {background="#00100F"}
  
#### Recap

In this lecture we

1. Did

#### Next Questions

- Can you relax strict exogeneity?
- What kind of regressors can you use?
- What does panel data permit you when working with nonlinear models?

#### References {.allowframebreaks visibility="uncounted"}

::: {#refs}
:::

::: footer

:::